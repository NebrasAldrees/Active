@model IEnumerable<ClubViewModel>
<section class="page_wrap">
    <div class="page_content">
        <div class="block mb-4">
            <div class="block-header border-bottom px-4 py-3">
                <h5 class="m-0">الأندية الطلابية</h5>
                <div class="d-flex gap-2">
                    <div class="form-group">
                        <input type="text" class="form-control table__quick_search"
                               placeholder="البحث السريع ...">
                    </div>
                    <a asp-action="InsertClub" asp-controller="Club" asp-area="ActivitiesSupervisor" class="btn btn-primary">إضافة نادي</a>
                </div>
            </div>
            <div class="block-body">

                @if (ViewData["Error"] != null)
                {
                    <div class="alert alert-danger">@ViewData["Error"]</div>
                }

                @if (ViewData["Message"] != null)
                {
                    <div class="alert alert-info">@ViewData["Message"]</div>
                }

                @if (Model == null || !Model.Any())
                {
                    <div class="alert alert-warning">لا توجد أندية مسجلة حالياً</div>
                }
                else
                {
                    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
                        @foreach (var item in Model)
                        {
                            <div class="col">
                                <div class="card h-100 text-white shadow" style="background-image: url('@item.ClubIcon'); background-size: cover; background-position: center;">
                                    <div class="card-img-overlay d-flex flex-column justify-content-end club-overlay">
                                        <h5 class="card-title text-center mb-1 club-name-title">@item.ClubNameAR</h5>
                                        <p class="card-text text-center mb-2 club-name-subtitle">@item.ClubNameEN</p>
                                        <div class="d-flex justify-content-center gap-1 club-actions">
                                            @* You'll need to fill in the correct href/asp-routes for these links *@
                                            <a href="#" class="btn btn-sm btn-light">عرض</a>
                                            <a href="#" class="btn btn-sm btn-success">تعديل</a>
                                            <a href="#" class="btn btn-sm btn-danger">حذف</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                }
            </div>
        </div>
    </div>
</section>

@* --- Add a style block for better visual effect --- *@
<style>
    /* Ensures the card has a fixed height for consistency */
    .card {
        min-height: 200px; /* Adjust as needed */
        position: relative;
        overflow: hidden;
    }

    /* Dark overlay for text readability */
    .club-overlay {
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
        transition: background-color 0.3s ease;
    }

    /* Make text bold and legible */
    .club-name-title {
        font-weight: bold;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
    }

    .club-name-subtitle {
        font-size: 0.9em;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
    }

    /* Optional: Hover effect to reveal actions or lighten overlay */
    .card:hover .club-overlay {
        background-color: rgba(0, 0, 0, 0.7);
    }
</style>