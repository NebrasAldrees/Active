@using System.Security.Claims
@{
    ViewData["Title"] = "الملف الشخصي";
    Layout = "~/Areas/Student/Views/Shared/_Layout.cshtml";

    var userInfo = ViewBag.UserInfo as dynamic;
    var studentData = ViewBag.StudentData as tblStudent;
}

<section class="page_wrap">
    <div class="page_content">
        <div class="block mb-4">
            <div class="block-header border-bottom px-4 py-4">
                <h5 class="m-0"><i class="fas fa-user me-2"></i>الملف الشخصي</h5>
            </div>
            <div class="block-body py-5">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="row">
                            <div class="col-md-8">
                                
                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold mb-1">الاسم الكامل:</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p class="form-control-plaintext border-bottom pb-2">
                                            @(studentData?.StudentNameAr ?? userInfo?.FullName ?? "غير محدد")
                                        </p>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold mb-1">الرقم الأكاديمي:</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p class="form-control-plaintext border-bottom pb-2">
                                            @(studentData?.AcademicId ?? userInfo?.AcademicNumber ?? "غير محدد")
                                        </p>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold mb-1">الايميل:</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p class="form-control-plaintext border-bottom pb-2">
                                            @(studentData?.StudentEmail ?? userInfo?.Email ?? "غير محدد")
                                        </p>
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold mb-1">رقم الجوال:</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p class="form-control-plaintext border-bottom pb-2">
                                            @(studentData?.StudentPhone ?? "غير محدد")
                                        </p>
                                    </div>
                                </div>

                                @* <!-- رقم الجوال -->
                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold mb-1">النادي التابع:</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p class="form-control-plaintext border-bottom pb-2">
                                            @( ?? "غير محدد")
                                        </p>
                                    </div>
                                    //membership table
                                </div> *@

                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-bold mb-1">المهارات:</label>
                                    </div>
                                    <div class="col-md-8">
                                        <p class="form-control-plaintext border-bottom pb-2">
                                            @if (!string.IsNullOrEmpty(studentData?.StudentSkills))
                                            {
                                                @studentData.StudentSkills
                                            }
                                            else
                                            {
                                                <span class="text-muted">لا توجد مهارات مسجلة</span>
                                            }
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>