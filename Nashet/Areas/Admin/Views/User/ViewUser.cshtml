@model IEnumerable<UserViewModel>

<section class="page_wrap" style="background:linear-gradient(135deg,#f8f9fa,#ffffff);padding:40px 0;display:flex;justify-content:center;">
    <div class="page_content" style="max-width:900px;width:100%;">
        <div class="block mb-4" style="border-radius:12px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.1);">

            <!-- Header -->
            <div class="block-header px-4 py-3"
                 style="background:linear-gradient(to right,#3fa7b6, #0f7179);

                        color:#fff;

                        border-radius:12px 12px 0 0;

                        display:flex;

                        justify-content:space-between;

                        align-items:center;

                        margin-bottom:40px;">
                <!-- ✅ مسافة أكبر تحت الهيدر -->
                <h5 class="m-0" style="font-weight:600;letter-spacing:0.5px;">المستخدمين</h5>
                <!-- Search + إضافة -->
                <form method="get" asp-action="ViewUser" asp-controller="User" asp-area="Admin" class="d-flex gap-2">
                    <input type="text" name="searchText" class="form-control" placeholder=" البحث السريع ..."
                           style="border-radius:8px;box-shadow:inset 0 1px 3px rgba(0,0,0,0.1);">
                    <button type="submit" class="btn btn-primary"
                            style="background:#fff; color:#0f7179; border:none;border-radius:8px;padding:6px 16px;font-weight:500;">

                        بحث
                    </button>
                    <a asp-action="InsertUser" asp-controller="User" asp-area="Admin"
                       class="btn btn-primary"
                       style="background:#fff; color:#0f7179; border:none;border-radius:8px;padding:6px 16px;font-weight:500;">

                        إضافة مستخدم
                    </a>
                </form>
            </div>

            <!-- بداية البطاقات -->
            <div class="row px-4 pb-4" id="usersContainer">

                @if (Model != null && Model.Any())

                {

                    foreach (var item in Model)

                    {
                        <div class="col-md-6 col-lg-4 mb-5 user-card">
                            <div class="card h-100 shadow-sm"
                                 style="background: linear-gradient(135deg,#eee,#ffffff);

                                                        border:none;

                                                        border-radius:12px;

                                                        transition:transform 0.2s ease,box-shadow 0.2s ease;">
                                <div class="card-header d-flex justify-content-between align-items-center"
                                     style="background:#0f7179;color:#fff;border-radius:12px 12px 0 0;padding:12px 16px;">
                                    <h6 class="mb-0" style="font-weight:600;">@item.UserNameAR</h6>
                                    <span class="badge bg-light text-dark" style="border-radius:6px;">#@item.UserId</span>
                                </div>
                                <div class="card-body" style="padding:20px;text-align:center;">

                                    <!-- معلومات المستخدم مع مسافات -->
                                    <div class="mb-3">
                                        <strong style="color:#0f7179;">الاسم الإنجليزي:</strong>
                                        <p class="mb-3 text-muted">@item.UserNameEN</p>
                                    </div>

                                    <div class="mb-3">
                                        <strong style="color:#0f7179;">البريد الإلكتروني:</strong>
                                        <p class="mb-3 text-muted">@item.UserEmail</p>
                                    </div>

                                    <div class="mb-3">
                                        <strong style="color:#0f7179;">رقم الجوال:</strong>
                                        <p class="mb-3 text-muted">@item.UserPhone</p>
                                    </div>

                                    <!-- أزرار الإجراءات -->
                                    <div class="d-flex justify-content-center gap-2 mt-4">
                                        <form asp-action="Delete" asp-controller="User" asp-area="Admin" asp-route-id="@item.UserId" method="post" class="d-inline">
                                            <button type="submit" class="btn btn-sm btn-primary" style="border-radius:8px;"
                                                    onclick="return confirm('هل أنت متأكد من الحذف؟');">

                                                حذف
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                    }

                }

                else

                {
                    <div class="text-center text-muted py-5">
                        <p>لا يوجد مستخدمين حالياً</p>
                    </div>

                }
            </div>
            <!-- نهاية البطاقات -->
        </div>
    </div>
</section>

<style>

    .user-card .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

        .user-card .card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            cursor: pointer;
        }
</style>
