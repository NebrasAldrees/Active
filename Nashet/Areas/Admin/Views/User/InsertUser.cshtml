@model Nashet.Business.ViewModels.UserViewModel

<section class="page_wrap" style="background:linear-gradient(135deg,#f8f9fa,#ffffff);padding:40px 0;display:flex;justify-content:center;">
    <div class="page_content" style="max-width:700px;width:100%;">
        <div class="card shadow-sm" style="border-radius:12px;overflow:hidden;">

            <!-- Header -->
            <div class="card-header"
                 style="background:linear-gradient(to right,#3fa7b6,#0f7179);color:#fff;padding:16px;">
                <h5 class="m-0"> إضافة مستخدم جديد</h5>
            </div>

            <!-- Form -->
            <div class="card-body p-4">
                <form asp-action="InsertUser" asp-controller="User" asp-area="Admin" method="post">

                    @Html.AntiForgeryToken()

                    <div class="mb-3">
                        <label asp-for="Username" class="form-label fw-bold">اسم الدخول</label>
                        <input asp-for="Username" class="form-control" />
                        <span asp-validation-for="Username" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="UserNameAR" class="form-label fw-bold">الاسم بالعربي</label>
                        <input asp-for="UserNameAR" class="form-control" />
                        <span asp-validation-for="UserNameAR" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="UserNameEN" class="form-label fw-bold">الاسم بالإنجليزي</label>
                        <input asp-for="UserNameEN" class="form-control" />
                        <span asp-validation-for="UserNameEN" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="UserEmail" class="form-label fw-bold">البريد الإلكتروني</label>
                        <input asp-for="UserEmail" class="form-control" type="email" />
                        <span asp-validation-for="UserEmail" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="UserPhone" class="form-label fw-bold">رقم الجوال</label>
                        <input asp-for="UserPhone" class="form-control" />
                        <span asp-validation-for="UserPhone" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="SystemRoleId" class="form-label fw-bold">الدور</label>

                        @Html.DropDownList("SystemRoleId", new SelectList(ViewBag.SystemRole, "SystemRoleId", "RoleTypeAr"),

                        "-- اختر الدور --", new { @class = "form-control" })
                        <span asp-validation-for="SystemRoleId" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="SiteGuid" class="form-label fw-bold">الجهة</label>
                        <select asp-for="SiteGuid" class="form-control">
                            <option value="">-- اختر الجهة --</option>
                            @foreach (SiteViewModel site in ViewBag.Site)
                            {
                                <option value="@site.Guid">@site.SiteNameAR</option>
                            }
                        </select>
                        <span style="color:red" asp-validation-for="SiteGuid"></span>
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a asp-action="ViewUser" asp-controller="User" asp-area="Admin"
                           class="btn btn-secondary">رجوع للقائمة</a>
                        <button type="submit" class="btn btn-primary">حفظ</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

@section Scripts {

    @{

        await Html.RenderPartialAsync("_ValidationScriptsPartial");

    }

}
